<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CETONI SDK: CETONI SDK for Raspberry Pi</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HeaderLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CETONI SDK
   &#160;<span id="projectnumber">20210607</span>
   </div>
   <div id="projectbrief">The software libraries for integration of all CETONI devices.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Table&#160;of&#160;contents</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Page_QmixSDK_Raspi.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CETONI SDK for Raspberry Pi </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="raspi_header.png"  align="center" style="padding-right: 10px; width: 690px;"/>
</div>
<h1><a class="anchor" id="QmixSDK_Raspi"></a>
Overview</h1>
<h2><a class="anchor" id="CAPI_DirectoryLayoutRaspi"></a>
Installation Directory Content</h2>
<p>The CETONI SDK for Raspberry Pi archive extracts a number of files into the final SDK folder. The following overview shows which files are available in which directories:</p>
<ul>
<li><b>Root SDK Folder</b> - contains all unit test cases.<ul>
<li><b>config</b> - provides the configuration files for running the provided tests (the configuration use simulated devices only)</li>
<li><b>doc</b> - contains this HTML documentation</li>
<li><b>examples</b> - here you find a number of C examples that show how to use the different labbCAN libraries</li>
<li><b>include</b> - contains the C include files for each single labbCAN library</li>
<li><b>lib</b> - Contains all shared libraries of the SDK. Unlike the Linux SDK the Raspi SDK does use the system's libraries. See the <a class="el" href="Page_QmixSDK_Raspi.html#QmixSDK_RaspiDependencies">Requirements and Dependencies</a> section for more information on what libraries are required for the SDK.</li>
<li><b>plugins</b> - contains the LED array plugin and may be used for later addition of custom plugins</li>
<li><b>python</b> - Contains the complete <a class="el" href="QmixSDK_Python.html">Python integration</a> for the CETONI SDK</li>
<li><b>sila</b> - The Python based <a class="el" href="QmixSDK_SiLA.html">SiLA library</a> for CETONI devices</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="QmixSDK_RaspiDependencies"></a>
Requirements and Dependencies</h1>
<dl class="section note"><dt>Note</dt><dd>The SDK has been compiled for and has only been tested on a Raspberry Pi 3B+ running Raspberry Pi OS Buster (version July 2019) and a Raspberry Pi Zero W running Raspberry Pi OS Buster (version August 2020)! Other Raspberry Pi models and OS version should work as well but we cannot guarantee it.</dd></dl>
<p>The CETONI SDK depends on the Qt5 libraries <b>Qt5Core</b> and <b>Qt5SerialPort</b>. You need to ensure that both libraries are properly installed on your Raspberry Pi. Further you will need the following system libraries for the SDK to work properly:</p>
<ul>
<li>libsocketcan</li>
<li>libboost-<ul>
<li>chrono</li>
<li>filesystem</li>
<li>serialization</li>
<li>system</li>
<li>thread</li>
<li>timer</li>
<li>test</li>
</ul>
</li>
</ul>
<p>You can easily install them by running the following command on your Raspi:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt install -y libsocketcan-dev \</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;libboost-chrono-dev libboost-filesystem-dev libboost-serialization-dev \</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;libboost-system-dev libboost-thread-dev libboost-timer-dev libboost-test-dev</div>
</div><!-- fragment --><h1><a class="anchor" id="QmixSDKRaspiConnecting"></a>
Connecting the Raspi to your Qmix system</h1>
<h2>Required Hardware</h2>
<p>To use the Raspberry Pi for controlling all of CETONI's devices, you need to connect directly to the CAN bus. Since the Raspi does not have any CAN interfaces, you need to use a CAN bus board to connect to the bus either via DB9 or 3 way screw terminal. The following hardware components are required:</p>
<ul>
<li><a href="https://www.raspberrypi.org/products/raspberry-pi-4-model-b/">Raspberry Pi 3B+ or 4B</a></li>
</ul>
<div class="image">
<img src="Raspi4.jpg" alt="Raspi4.jpg"/>
</div>
<ul>
<li><a href="https://www.skpang.co.uk/collections/hats/products/pican2-can-bus-board-for-raspberry-pi-2-3-with-smps">PiCAN2 CAN-Bus Board for Raspberry Pi 2/3</a> or</li>
<li><a href="https://www.skpang.co.uk/collections/hats/products/pican3-can-bus-board-for-raspberry-pi-4-with-3a-smps-rtc">PiCAN3 CAN-Bus Board for Raspberry Pi 4</a></li>
</ul>
<div class="image">
<img src="images/Pican3_2.jpg" />
</div>
<ul>
<li><a href="https://www.cetoni.com/products/can-power-cable/">CETONI CAN-Power-Cable (Male)</a></li>
</ul>
<div class="image">
<img src="CAN-Power-Cable_male.jpg" alt="CAN-Power-Cable_male.jpg"/>
</div>
<h2>Hardware Setup</h2>
<p>Mount the PiCAN board on your Raspberry Pi. Refer to the User Guides for <a href="https://cdn.shopify.com/s/files/1/0563/2029/5107/files/PICAN2SMPSUG13.pdf?v=1619008918">PiCAN 2</a> or <a href="https://cdn.shopify.com/s/files/1/0563/2029/5107/files/PICAN3_UGA_10.pdf?v=1619981615c">PiCAN 3</a> for more information and detailed instructions on the hardware installation of the board.</p>
<div class="image">
<img src="Raspi+Pican3.jpg" alt="Raspi+Pican3.jpg"/>
</div>
<p>Connect the CETONI CAN-Power-Cable to the PiCAN board connectors like shown below. The PiCAN board has a 3A switching mode power supply (SMPS) with reverse polarity protection and 6V to 24V input range. This makes it possible to power the Raspberry Pi directly via the 24 V of the CETONI devices. You just need to connect the ground and the 24V wires of the CETONI CAN-Power-Cable to the GND and 12V input pins of the 4 way screw terminal on your PiCAN board:</p>
<div class="image">
<img src="PiCAN_Connectors2.jpg" alt="PiCAN_Connectors2.jpg"/>
</div>
<p>Plug in the male CETONI plug of the CAN Power Cable into the socket of the last module of your system where you would normally plug in the bus termination plug. The following picture shows the connection to a Nemesys M pump that is powered by a Base 120 module:</p>
<div class="image">
<img src="Nemesys+Raspi2.jpg" alt="Nemesys+Raspi2.jpg"/>
</div>
<dl class="section note"><dt>Note</dt><dd>Ensure the the CAN bus is properly terminated with two 120Ω terminators. One terminator is inside of the Base 120 module so you just need to take care of the termination of the Raspberry Pi side. You have three options:<ul>
<li>if you use a CETONI Power Cable, then this cable is already properly terminated and you are done</li>
<li>if you use a custom cable, then you can activate the 120Ω terminator on the PiCAN board by soldering a jumper or</li>
<li>you can add an <a href="https://www.ixxat.com/products/products-industrial/accessories-industrial">IXXAT CAN Bus Terminator</a> to the PiCAN DP9 connector.</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="QmixSDK_RaspiUsage"></a>
Using the SDK</h2>
<p>Further information on how to use the SDK and getting started with development can be found in the <a class="el" href="Page_QmixSDK_Linux.html#QmixSDK_LinuxSharedLibraries">CETONI SDK Linux Documentation</a>.</p>
<p>If you would like to use the Raspberry Pi as a SiLA2 server to control your CETONI devices via SiLA2, continue with the <a class="el" href="QmixSDK_SiLA.html">CETONI SDK SiLA Documentation</a>.</p>
<ul>
<li><a class="el" href="Page_QmixSDK_Linux.html#QmixSDK_LinuxSharedLibraries">Continue with CETONI SDK Linux Documentation &gt;&gt;</a></li>
<li><a class="el" href="QmixSDK_SiLA.html">Continue with CETONI SDK SiLA Documentation &gt;&gt;</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 23 2021 07:50:34 for CETONI SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
