<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CETONI SDK: Controller Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HeaderLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CETONI SDK
   &#160;<span id="projectnumber">20210607</span>
   </div>
   <div id="projectbrief">The software libraries for integration of all CETONI devices.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Table&#160;of&#160;contents</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Controller_API.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Controller Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#Controller_Introduction">Introduction</a></li>
<li class="level1"><a href="#Controller_Including">Including</a></li>
<li class="level1"><a href="#Controller_API_Usage">Controller API Usage</a><ul><li class="level2"><a href="#Controller_Step1">Retrieve device handle</a></li>
<li class="level2"><a href="#Controller_Usage">Using Controller Channels</a></li>
<li class="level2"><a href="#Controller_Reference">Reference</a></li>
</ul>
</li>
<li class="level1"><a href="#Controller_Dynamically">Dynamically created control channels</a></li>
<li class="level1"><a href="#Controller_ProgrammingInterface">Programming Interface - API</a></li>
</ul>
</div>
<div class="textblock"><div class="image">
<img src="Slider_Controller_API_color.jpg"  align="center" style="padding-right: 10px; width: 800px;"/>
</div>
 <h1><a class="anchor" id="Controller_Introduction"></a>
Introduction</h1>
<p>This controller library defines a common interface for control device access and configuration. </p><hr/>
<h1><a class="anchor" id="Controller_Including"></a>
Including</h1>
<p>The way how you include the library functions in your own windows program, depends on the compiler and on the programming language you use. In order to access the controller API, you have to include the library <b>labbCAN_Controller_API.dll</b> to your programming environment. You have to copy this file to the working directory of your system or to the application directory that contains your application EXE file. Use the calling convention <b>LCC_CALL</b> for this library. This convention is managing how the parameters are put on the stack and who is responsible to clean the stack after the function execution.</p>
<p>The interface of the library, constant definitions and declarations of the library functions, is defined in the header file <a class="el" href="labbCAN__Controller__API_8h.html">interface/labbCAN_Controller_API.h </a> </p><hr/>
<h1><a class="anchor" id="Controller_API_Usage"></a>
Controller API Usage</h1>
<h2><a class="anchor" id="Controller_Step1"></a>
Retrieve device handle</h2>
<p>To work with a controller channel, you need a valid channel handle. A channel handle is simply an opaque pointer to the internal channel object created by the labbCAN environment. So the first thing you need do to is obtaining a valid control channel handle. There are two ways to get a valid channel handle. The first method is to get a channel object via its channel name.</p>
<p>To do this, use the function <a class="el" href="group__lcctrl__chan__init.html#ga33a5b029fee347e2a25a92afca21dc62" title="Lookup for a controller channel by its name. ">LCC_LookupChanByName()</a>. </p><div class="fragment"><div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> ControlChannelHandle;</div>
<div class="line">Result = <a class="code" href="group__lcctrl__chan__init.html#ga33a5b029fee347e2a25a92afca21dc62">LCC_LookupChanByName</a>(<span class="stringliteral">&quot;QmixTC_1_Ctrl1&quot;</span>, &amp;ControlChannelHandle);</div>
</div><!-- fragment --><p>You can get the channel names from the device configuration files (see <a class="el" href="ConfigFiles.html">Device Configuration Files</a>). To search for the control channel names, open the file <b>qmixcontroller.xml</b> and search in the channel list for <b>Lcl::CLocalControllerChannel</b> items. The following example shows the device configuration of one single Qmix TC control channel. In the first line you will find the channel name - <b>QmixTC_1_Ctrl1</b> in this case.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;Channel Name=&quot;QmixTC_1_Ctrl1&quot;&gt;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   &lt;Type&gt;Lcl::CQmixChipF40Controller&lt;/Type&gt;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   &lt;PwmOutputEnable&gt;QmixTC_1_DO0_INA&lt;/PwmOutputEnable&gt;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   &lt;ControlLoop&gt;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;       &lt;Type&gt;Lcl::CPIDControlLoop&lt;/Type&gt;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;       &lt;Enabled&gt;false&lt;/Enabled&gt;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;       &lt;PIDParam Name=&quot;Qmix TC 1 Default&quot; K=&quot;3&quot; Td=&quot;0&quot; Ti=&quot;260&quot; Tt=&quot;250&quot; DerivativeGainLimit=&quot;20&quot; MinU=&quot;0&quot; MaxU=&quot;100&quot; DisabledU=&quot;0&quot; SampleTime_ms=&quot;500&quot; Setpoint=&quot;0&quot;/&gt;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;       &lt;Input&gt;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;           &lt;Type&gt;Lcl::CAnalogChannelLoopIn&lt;/Type&gt;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;           &lt;Channel&gt;QmixTC_1_AI0_PT100&lt;/Channel&gt;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;       &lt;/Input&gt;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;       &lt;Output&gt;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;           &lt;Type&gt;Lcl::CAnalogChannelLoopOut&lt;/Type&gt;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;           &lt;Channel&gt;QmixTC_1_AO0_PWM&lt;/Channel&gt;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;       &lt;/Output&gt;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;   &lt;/ControlLoop&gt;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;&lt;/Channel&gt;</div>
</div><!-- fragment --><p>The second method is, to get the channel name by its index. All control channels are number from 0 to n-1 channels. To get a channel by its index, use the function <a class="el" href="group__lcctrl__chan__init.html#ga3fb0f8990577f6f3b0fe758542f2df82" title="Get controller channel handle by its index. ">LCC_GetChannelHandle()</a>. </p><div class="fragment"><div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> ControlChannelHandle;</div>
<div class="line">Result = <a class="code" href="group__lcctrl__chan__init.html#ga3fb0f8990577f6f3b0fe758542f2df82">LCC_GetChannelHandle</a>(0, &amp;ControlChannelHandle);</div>
</div><!-- fragment --><p>If you want to know, how many channels are available, simply call the function <a class="el" href="group__lcctrl__chan__init.html#ga94877e4384bc2564326f6c4d8c2c2120" title="Query number of available controller channels. ">LCC_GetNoOfControlChannels()</a>. The following example shows how to use both functions to enumerate all control channels and output their names.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keywordtype">long</span> ChannelCount  = <a class="code" href="group__lcctrl__chan__init.html#ga94877e4384bc2564326f6c4d8c2c2120">LCC_GetNoOfControlChannels</a>();</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; ChannelCount; ++i)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> Channel;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    Result = <a class="code" href="group__lcctrl__chan__init.html#ga3fb0f8990577f6f3b0fe758542f2df82">LCC_GetChannelHandle</a>(i, &amp;Channel);</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="keywordtype">char</span> ChannelName[128];</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    Result = <a class="code" href="group__lcctrl__common.html#gaace4d01c0e1ad61a7974441f3d4bc63c">LCC_GetChanName</a>(Channel, ChannelName, <span class="keyword">sizeof</span>(ChannelName));</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Channel[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; ChannelName &lt;&lt; std::endl;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;}</div>
<div class="ttc" id="group__lcb__api_html_gad29975e68b6236dc4171ddbf61ae1ee5"><div class="ttname"><a href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a></div><div class="ttdeci">long long dev_hdl</div><div class="ttdoc">generic device handle </div><div class="ttdef"><b>Definition:</b> labbCAN_Bus_API.h:172</div></div>
<div class="ttc" id="group__lcctrl__chan__init_html_ga94877e4384bc2564326f6c4d8c2c2120"><div class="ttname"><a href="group__lcctrl__chan__init.html#ga94877e4384bc2564326f6c4d8c2c2120">LCC_GetNoOfControlChannels</a></div><div class="ttdeci">LCC_Func long LCC_CALL LCC_GetNoOfControlChannels()</div><div class="ttdoc">Query number of available controller channels. </div></div>
<div class="ttc" id="group__lcctrl__common_html_gaace4d01c0e1ad61a7974441f3d4bc63c"><div class="ttname"><a href="group__lcctrl__common.html#gaace4d01c0e1ad61a7974441f3d4bc63c">LCC_GetChanName</a></div><div class="ttdeci">LCC_Func long LCC_CALL LCC_GetChanName(dev_hdl hChan, char *pNameStringBuf, int StringBufSize)</div><div class="ttdoc">Query name of specific channel. </div></div>
<div class="ttc" id="group__lcctrl__chan__init_html_ga3fb0f8990577f6f3b0fe758542f2df82"><div class="ttname"><a href="group__lcctrl__chan__init.html#ga3fb0f8990577f6f3b0fe758542f2df82">LCC_GetChannelHandle</a></div><div class="ttdeci">LCC_Func long LCC_CALL LCC_GetChannelHandle(unsigned char Index, dev_hdl *pChanHdl)</div><div class="ttdoc">Get controller channel handle by its index. </div></div>
</div><!-- fragment --><h2><a class="anchor" id="Controller_Usage"></a>
Using Controller Channels</h2>
<p>To use the control channel, you simply need to write a setpoint and enable the channel control loop. </p><div class="fragment"><div class="line">Result = <a class="code" href="group__lcctrl__chan__access.html#ga3806d552a8d22075fc575245beb312e1">LCC_WriteSetPoint</a>(ChannelHandle, 37);</div>
<div class="line">Result = <a class="code" href="group__lcctrl__chan__access.html#gaa24b9a6bf89025d93d5ad69dafa027cc">LCC_EnableControlLoop</a>(ChannelHandle, 1);</div>
</div><!-- fragment --><p>Now you can use the function <a class="el" href="group__lcctrl__chan__access.html#gad48dc96ee50aebb969e6d1d98f4877a0" title="Read actual value from device. ">LCC_ReadActualValue()</a> to read the actual control channel value. The following example shows the minimum number of steps to get a control channel running.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;{</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    <a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> ChannelHandle;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <span class="comment">// Open the labbCAN bus, get a control channel handle and start the</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="comment">// devic communication</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* ConfigPath = <span class="stringliteral">&quot;config/testconfig_qmixsdk&quot;</span>;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    Result = <a class="code" href="group__lcb__init.html#ga4353fd72a2a7b7eb51f9c819ef9034bf">LCB_Open</a>(ConfigPath, 0);</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    Result = <a class="code" href="group__lcctrl__chan__init.html#ga33a5b029fee347e2a25a92afca21dc62">LCC_LookupChanByName</a>(<span class="stringliteral">&quot;QmixQplus_1_ReactorZone&quot;</span>, &amp;ChannelHandle);</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    Result = <a class="code" href="group__lcb__init.html#gab8e609eba78147b69aac407c2c77e13d">LCB_Start</a>();</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="comment">// Write the setpoint and enable the control loop</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    Result = <a class="code" href="group__lcctrl__chan__access.html#ga3806d552a8d22075fc575245beb312e1">LCC_WriteSetPoint</a>(ChannelHandle, 37);</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    Result = <a class="code" href="group__lcctrl__chan__access.html#gaa24b9a6bf89025d93d5ad69dafa027cc">LCC_EnableControlLoop</a>(ChannelHandle, 1);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="comment">// now the control loop is running and we can read the actual value</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordtype">double</span> ActualValue;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    Result = <a class="code" href="group__lcctrl__chan__access.html#gad48dc96ee50aebb969e6d1d98f4877a0">LCC_ReadActualValue</a>(ChannelHandle, &amp;ActualValue);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="comment">// We are finished and can stop communication and close the bus</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    Result = <a class="code" href="group__lcb__init.html#gaac49d46acfa70a1d9569e3a02735ab02">LCB_Stop</a>();</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    std::this_thread::sleep_for(2s);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    Result = <a class="code" href="group__lcb__init.html#gaa2ce414aed1b30bcba555109a1b35558">LCB_Close</a>();</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
<div class="ttc" id="group__lcctrl__chan__access_html_ga3806d552a8d22075fc575245beb312e1"><div class="ttname"><a href="group__lcctrl__chan__access.html#ga3806d552a8d22075fc575245beb312e1">LCC_WriteSetPoint</a></div><div class="ttdeci">LCC_Func long LCC_CALL LCC_WriteSetPoint(dev_hdl ChanHdl, double fSetPointValue)</div><div class="ttdoc">Write setpoint value to controller device. </div></div>
<div class="ttc" id="group__lcb__init_html_ga4353fd72a2a7b7eb51f9c819ef9034bf"><div class="ttname"><a href="group__lcb__init.html#ga4353fd72a2a7b7eb51f9c819ef9034bf">LCB_Open</a></div><div class="ttdeci">LCB_Func long LCB_CALL LCB_Open(const char *pDeviceConfigPath, const char *PluginSearchPath)</div><div class="ttdoc">Initialize LabCanBus instance. </div></div>
<div class="ttc" id="group__lcctrl__chan__init_html_ga33a5b029fee347e2a25a92afca21dc62"><div class="ttname"><a href="group__lcctrl__chan__init.html#ga33a5b029fee347e2a25a92afca21dc62">LCC_LookupChanByName</a></div><div class="ttdeci">LCC_Func long LCC_CALL LCC_LookupChanByName(const char *pChannelName, dev_hdl *pChanHdl)</div><div class="ttdoc">Lookup for a controller channel by its name. </div></div>
<div class="ttc" id="group__lcb__api_html_gad29975e68b6236dc4171ddbf61ae1ee5"><div class="ttname"><a href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a></div><div class="ttdeci">long long dev_hdl</div><div class="ttdoc">generic device handle </div><div class="ttdef"><b>Definition:</b> labbCAN_Bus_API.h:172</div></div>
<div class="ttc" id="group__lcb__init_html_gaac49d46acfa70a1d9569e3a02735ab02"><div class="ttname"><a href="group__lcb__init.html#gaac49d46acfa70a1d9569e3a02735ab02">LCB_Stop</a></div><div class="ttdeci">LCB_Func long LCB_CALL LCB_Stop()</div><div class="ttdoc">Stop network communication. </div></div>
<div class="ttc" id="group__lcb__init_html_gab8e609eba78147b69aac407c2c77e13d"><div class="ttname"><a href="group__lcb__init.html#gab8e609eba78147b69aac407c2c77e13d">LCB_Start</a></div><div class="ttdeci">LCB_Func long LCB_CALL LCB_Start()</div><div class="ttdoc">Start network communication. </div></div>
<div class="ttc" id="group__lcctrl__chan__access_html_gad48dc96ee50aebb969e6d1d98f4877a0"><div class="ttname"><a href="group__lcctrl__chan__access.html#gad48dc96ee50aebb969e6d1d98f4877a0">LCC_ReadActualValue</a></div><div class="ttdeci">LCC_Func long LCC_CALL LCC_ReadActualValue(dev_hdl ChanHdl, double *pfActualValue)</div><div class="ttdoc">Read actual value from device. </div></div>
<div class="ttc" id="group__lcctrl__chan__access_html_gaa24b9a6bf89025d93d5ad69dafa027cc"><div class="ttname"><a href="group__lcctrl__chan__access.html#gaa24b9a6bf89025d93d5ad69dafa027cc">LCC_EnableControlLoop</a></div><div class="ttdeci">LCC_Func long LCC_CALL LCC_EnableControlLoop(dev_hdl ChanHdl, int Enable)</div><div class="ttdoc">Enables / disables a control loop. </div></div>
<div class="ttc" id="group__lcb__init_html_gaa2ce414aed1b30bcba555109a1b35558"><div class="ttname"><a href="group__lcb__init.html#gaa2ce414aed1b30bcba555109a1b35558">LCB_Close</a></div><div class="ttdeci">LCB_Func long LCB_CALL LCB_Close()</div><div class="ttdoc">Close LabCanBus instance. </div></div>
</div><!-- fragment --><h2><a class="anchor" id="Controller_Reference"></a>
Reference</h2>
<p>See the <a class="el" href="group__lcctrl__api.html">labbCAN Controller API</a> module for a detailed reference of all controller control, status and configuration functions.</p>
<h1><a class="anchor" id="Controller_Dynamically"></a>
Dynamically created control channels</h1>
<p>The controller library supports the creation of dynamic control channels. A dynamic control channel is a control channel, where the control loop input, control loop output and the controller PID parameters are provided in source code. This enables the dynamic creation of special control loops and thus enables things like pressure controlled dosage with syringe pumps. Dynamic control channels are created with the function <a class="el" href="group__lcctrl__chan__init.html#gaf311ba24f006663c3ab2f2aa49b6ffdc" title="Function for creation of dynamic PID control channels. ">LCC_CreatePIDControlChannel()</a>. The following code shows how to create a pressure control loop with an analog input channel that measures the pressure and a syringe pump that generates the flow and the pressure.</p>
<div class="fragment"><div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> ControlLoopIn;</div>
<div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> Pump;</div>
<div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> ControlChannel;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__lcaio__chan__init.html#gae5813a316657a5c174a88e9f75f2ec8f">LCAIO_GetInChanHandle</a>(0, &amp;ControlLoopIn);</div>
<div class="line"><a class="code" href="group__lcp__api__init.html#ga7e5d62c2ecd3d8a21744bb82b1727067">LCP_GetPumpHandle</a>(0, &amp;Pump);</div>
<div class="line"><a class="code" href="group__lcctrl__chan__init.html#gaf311ba24f006663c3ab2f2aa49b6ffdc">LCC_CreatePIDControlChannel</a>(ControlLoopIn, Pump, <a class="code" href="group__lcctrl__api.html#gga2c3672f96b121e0fbf119bf6c8a0933fa8f523c651c93261d7b1b38ea3e66d613">PUMP_FLOW</a>, &amp;ControlChannel);</div>
</div><!-- fragment --><p>To build the control loop you need the device handles for the control loop input and the control loop output. Then you can call the function <a class="el" href="group__lcctrl__chan__init.html#gaf311ba24f006663c3ab2f2aa49b6ffdc" title="Function for creation of dynamic PID control channels. ">LCC_CreatePIDControlChannel()</a> to wire input and output together to build up a control loop. </p><hr/>
<h1><a class="anchor" id="Controller_ProgrammingInterface"></a>
Programming Interface - API</h1>
<p>See the <a class="el" href="group__lcctrl__api.html">labbCAN Controller API</a> module for a detailed reference of the Controller I/O library application programming interface </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="Page_Libraries.html">Libraries</a></li>
    <li class="footer">Generated on Wed Jun 23 2021 07:50:34 for CETONI SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
