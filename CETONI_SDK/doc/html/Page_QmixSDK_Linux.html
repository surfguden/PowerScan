<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CETONI SDK: CETONI SDK for Linux</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HeaderLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CETONI SDK
   &#160;<span id="projectnumber">20210607</span>
   </div>
   <div id="projectbrief">The software libraries for integration of all CETONI devices.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Table&#160;of&#160;contents</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('Page_QmixSDK_Linux.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CETONI SDK for Linux </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="linux_header.png"  align="center" style="padding-right: 10px; width: 690px;"/>
</div>
<h1><a class="anchor" id="QmixSDK_Linux"></a>
Overview</h1>
<p>The CETONI SDK for Linux is available as tar archive (i.e. <code>QmixSDK_Linux_v20200506.tar.gz</code>) or as a debian package (i.e. <code>qmix-sdk_2020.7.1-x86_64_ubuntu18.04.deb</code>). The recommended installation method is the debian package because it will ship less libraries (uses system libraries) and it properly installs the required CAN interface drivers. Depending on the installation package you choose, continue reading with the documentation section for your package:</p>
<ul>
<li><a class="el" href="Page_QmixSDK_Linux.html#QmixSDK_deb">CETONI SDK - Debian Package Documentation</a></li>
<li><a class="el" href="Page_QmixSDK_Linux.html#QmixSDK_tar">CETONI SDK - Tar Archive Documentation</a></li>
</ul>
<h1><a class="anchor" id="QmixSDK_deb"></a>
CETONI SDK - Debian Package</h1>
<h2>Debian Package Installation</h2>
<p>Install the debian package from the command line with the following command:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt install qmix-sdk_2020.7.1-x86_64_ubuntu18.04.deb</div>
</div><!-- fragment --><h2>Installed Components</h2>
<p>The debian package installs the following components:</p>
<ul>
<li><b>/etc/ls.so.conf.d</b> - contains the file <code>qmix-sdk.conf</code> for adding the path of the CETONI SDK libraries to the library search path</li>
<li><b>/lib/udev/rules.d</b> - contains the udev rules for executing the script <code>/usr/bin/configure_qmix_device.sh</code> to start drivers if a device is plugged in</li>
<li><b>/usr/bin</b> - contains script file <code>configure_qmix_device.sh</code> for starting the required drivers if a USB-CAN interface is plugged in</li>
<li><b>/usr/include/qmix-sdk</b> - contains the library C/C++ header files</li>
<li><b>/usr/lib/qmix-sdk</b> - contains the shared library files (*.so files) of the CETONI SDK</li>
<li><b>/usr/share/qmix-sdk</b> - contains the tests and the python integration of the SDK</li>
<li><b>/usr/share/doc/qmix-sdk</b> - here you will find the HTML reference documentation</li>
<li><b>/usr/src</b> - contains the sources for the supported device drivers</li>
</ul>
<h2><a class="anchor" id="QmixSDK_LinuxSharedLibraries_deb"></a>
Use the SDK's shared libraries</h2>
<p>To link against the SDK's shared libraries and to use the SDK's shared libraries you just need to add the library path <code>/usr/lib/qmix-sdk</code> to your linker search path. Here is the command line for compilation of a small <code>test.cpp</code> app that uses the <code>labbCAN_Bus_API</code>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;gcc test.cpp -L/usr/lib/qmix-sdk/ -llabbCAN_Bus_API</div>
</div><!-- fragment --><h2><a class="anchor" id="QmixSDK_TestsLinux_deb"></a>
Running the unit tests</h2>
<p>With the test cases you can check, if the SDK runs properly on your Linux system. To run a test case, you should open a terminal and change into the <code>/usr/share/qmix-sdk</code> directory. Now you can execute the test cases</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd /usr/share/qmix-sdk</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;./capi_nemesys_test</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>All tests run with a device configuration with simulated devices. That means, if you have real devices connected, then nothing will move.</dd></dl>
<p>If you would like to run all tests that do not require user interaction, then you can simply run the script <code>run_all_tests.sh</code>:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./usr/share/qmix-sdk/run_all_tests.sh</div>
</div><!-- fragment --><h2><a class="anchor" id="QmixSDK_TestsPython_deb"></a>
Testing the Python integration</h2>
<p>You can test the Python integration by running the test cases in <code>/usr/share/qmix-sdk</code>. If you run the test cases, then use the script <code>run_pytest.sh</code> to start a test case. This script ensures, that the device configuration path is set properly.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd /usr/share/qmix-sdk/python</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;./run_pytest.sh test_qmixpump.py</div>
</div><!-- fragment --><h1><a class="anchor" id="QmixSDK_tar"></a>
CETONI SDK - Tar Archive</h1>
<h2><a class="anchor" id="CAPI_DirectoryLayoutLinux"></a>
Installation Directory Content</h2>
<p>The CETONI SDK tar archive extracts a number of files into the final SDK folder. The following overview shows which files are available in which directories:</p>
<ul>
<li><b>Root SDK Folder</b> - contains all unit test cases.<ul>
<li><b>config</b> - provides the configuration files for running the provided tests (the configuration use simulated devices only)</li>
<li><b>device_driver</b> Contains the SocketCAN device drivers for the USB-CAN interfaces from IXXAT and SysTec that have been tested with the SDK.</li>
<li><b>doc</b> - contains this HTML documentation</li>
<li><b>examples</b> - here you find a number of C examples that show how to use the different labbCAN libraries</li>
<li><b>include</b> - contains the C include files for each single labbCAN library</li>
<li><b>lib</b> - Contains all shared Linux libraries of the SDK. The SDK does not use the system libraries but ships its own libraries to prevent incompatibilities. The SDK has been compiled on an Ubuntu 19.10 VM.</li>
<li><b>plugins</b> - contains the LED array plugin and may be used for later addition of custom plugins</li>
<li><b>python</b> - Contains the complete <a class="el" href="QmixSDK_Python.html">Python integration</a> for the CETONI SDK</li>
<li><b>sila</b> - The Python based <a class="el" href="QmixSDK_SiLA.html">SiLA library</a> for CETONI devices</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="QmixSDK_LinuxDependencies"></a>
Requirements and Dependencies</h2>
<p>The CETONI SDK depends on the following libraries:</p>
<ul>
<li><b>Qt5Core</b></li>
<li><b>Qt5SerialPort</b></li>
<li><b>libusb</b></li>
</ul>
<p>You need to ensure that these libraries are properly installed on your Linux system.</p>
<h2><a class="anchor" id="QmixSDK_LinuxSharedLibraries"></a>
Use the SDK's shared libraries</h2>
<p>To link against the SDK's shared libraries and to use the SDK's shared libraries you need to ensure, that the lib folder of the SDK is the first folder in the library search paths. You can do this by prepending the lib folder to the <code>LD_LIBRARY_PATH</code> environment variable.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;LD_LIBRARY_PATH=$(pwd)/../lib:&quot;$LD_LIBRARY_PATH&quot;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;export LD_LIBRARY_PATH</div>
</div><!-- fragment --><h2><a class="anchor" id="QmixSDK_TestsLinux"></a>
Running the unit tests</h2>
<p>With the test cases you can check, if the SDK runs properly on your Linux system. To run a test case, you should open a terminal and change into the root SDK directory. Now you can execute the test cases</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./capi_nemesys_test</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>All tests run with a device configuration with simulated devices. That means, if you have real devices connected, then nothing will move.</dd></dl>
<h2><a class="anchor" id="QmixSDK_Linux_SocketCAN"></a>
Linux SocketCAN Drivers</h2>
<p>The CETONI SDK for Linux supports the Linux SocketCAN driver. That means, all CAN devices that support the SocketCAN layer are supported by the SDK. The SDK folder <b>device_driver</b> contains the SocketCAN drivers for the following devices:</p>
<ul>
<li><a href="https://www.ixxat.com/products/products-industrial/pc-interfaces/pc-can-interfaces/details-pc-can-interfaces/usb-to-can-v2">IXXAT USB-to-CAN</a></li>
<li><a href="https://www.systec-electronic.com/en/products-technologies/interfaces-gateways/sysworxx-usb-canmodul1/">SysTec USB-CANmodul1</a></li>
</ul>
<p>Follow the instructions in the device driver archives to build and install the device driver for your USB-CAN hardware.</p>
<dl class="section note"><dt>Note</dt><dd>We recommend using the SysTec SocketCAN driver as it works more reliably and is easier to compile.</dd></dl>
<p>After disconnecting and plugging in the USB cable or after each restart/hibernation the correct CAN bitrate must be set and the CAN interface needs to get started. This can be done with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo ip link set can0 type can bitrate 1000000</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;sudo ip link set can0 up</div>
</div><!-- fragment --><p>If necessary, the interface can also be restarted:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo ip link set can0 type can restart</div>
</div><!-- fragment --><p>For more information please use the included Readme files from SysTec or IXXAT (e.g. to use candump).</p>
<p><a class="el" href="GettingStarted.html">Continue with the Getting Started section &gt;&gt;</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 23 2021 07:50:34 for CETONI SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
