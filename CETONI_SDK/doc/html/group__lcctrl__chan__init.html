<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CETONI SDK: Channel Initialisation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HeaderLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CETONI SDK
   &#160;<span id="projectnumber">20210607</span>
   </div>
   <div id="projectbrief">The software libraries for integration of all CETONI devices.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Table&#160;of&#160;contents</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__lcctrl__chan__init.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Channel Initialisation<div class="ingroups"><a class="el" href="group__lcctrl__api.html">labbCAN Controller API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>Controller module channel initialisation functions This group defines all functions to initialise controller channels properly. </p>
<p>Each measurement and control device that is attached to the labbCAN bus offers a number of controller channels. </p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Channel Initialisation:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__lcctrl__chan__init.png" border="0" alt="" usemap="#group____lcctrl____chan____init"/>
<map name="group____lcctrl____chan____init" id="group____lcctrl____chan____init">
<area shape="rect" id="node2" href="group__lcctrl__api.html" title="Controller specific functions. " alt="" coords="7,5,161,33"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf311ba24f006663c3ab2f2aa49b6ffdc"><td class="memItemLeft" align="right" valign="top">LCC_Func long LCC_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcctrl__chan__init.html#gaf311ba24f006663c3ab2f2aa49b6ffdc">LCC_CreatePIDControlChannel</a> (<a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> AnalogInput, <a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> Output, unsigned int <a class="el" href="group__lcctrl__api.html#ga2c3672f96b121e0fbf119bf6c8a0933f">LoopOutType</a>, <a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> *pCreatedChannel)</td></tr>
<tr class="memdesc:gaf311ba24f006663c3ab2f2aa49b6ffdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for creation of dynamic PID control channels.  <a href="#gaf311ba24f006663c3ab2f2aa49b6ffdc">More...</a><br /></td></tr>
<tr class="separator:gaf311ba24f006663c3ab2f2aa49b6ffdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fb0f8990577f6f3b0fe758542f2df82"><td class="memItemLeft" align="right" valign="top">LCC_Func long LCC_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcctrl__chan__init.html#ga3fb0f8990577f6f3b0fe758542f2df82">LCC_GetChannelHandle</a> (unsigned char Index, <a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> *pChanHdl)</td></tr>
<tr class="memdesc:ga3fb0f8990577f6f3b0fe758542f2df82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get controller channel handle by its index.  <a href="#ga3fb0f8990577f6f3b0fe758542f2df82">More...</a><br /></td></tr>
<tr class="separator:ga3fb0f8990577f6f3b0fe758542f2df82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94877e4384bc2564326f6c4d8c2c2120"><td class="memItemLeft" align="right" valign="top">LCC_Func long LCC_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcctrl__chan__init.html#ga94877e4384bc2564326f6c4d8c2c2120">LCC_GetNoOfControlChannels</a> ()</td></tr>
<tr class="memdesc:ga94877e4384bc2564326f6c4d8c2c2120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query number of available controller channels.  <a href="#ga94877e4384bc2564326f6c4d8c2c2120">More...</a><br /></td></tr>
<tr class="separator:ga94877e4384bc2564326f6c4d8c2c2120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33a5b029fee347e2a25a92afca21dc62"><td class="memItemLeft" align="right" valign="top">LCC_Func long LCC_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcctrl__chan__init.html#ga33a5b029fee347e2a25a92afca21dc62">LCC_LookupChanByName</a> (const char *pChannelName, <a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> *pChanHdl)</td></tr>
<tr class="memdesc:ga33a5b029fee347e2a25a92afca21dc62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup for a controller channel by its name.  <a href="#ga33a5b029fee347e2a25a92afca21dc62">More...</a><br /></td></tr>
<tr class="separator:ga33a5b029fee347e2a25a92afca21dc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf311ba24f006663c3ab2f2aa49b6ffdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LCC_Func long LCC_CALL LCC_CreatePIDControlChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a>&#160;</td>
          <td class="paramname"><em>AnalogInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a>&#160;</td>
          <td class="paramname"><em>Output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>LoopOutType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> *&#160;</td>
          <td class="paramname"><em>pCreatedChannel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for creation of dynamic PID control channels. </p>
<p>With dynamic control channels you can create your own custom PID control loops. You just need to provide an analog input channel that measures the actual value and a control loop output for writing the control loop output value. You can use analog /digital output channels and pumps as control loop output. You can easily implement pressure controlled dosage by combining an analog pressure sensor as control loop input and a syringe pump as control loop output. The following example code shows how to do this </p><div class="fragment"><div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> ControlLoopIn;</div>
<div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> Pump;</div>
<div class="line"><a class="code" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> ControlChannel;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__lcaio__chan__init.html#gae5813a316657a5c174a88e9f75f2ec8f">LCAIO_GetInChanHandle</a>(0, &amp;ControlLoopIn);</div>
<div class="line"><a class="code" href="group__lcp__api__init.html#ga7e5d62c2ecd3d8a21744bb82b1727067">LCP_GetPumpHandle</a>(0, &amp;Pump);</div>
<div class="line"><a class="code" href="group__lcctrl__chan__init.html#gaf311ba24f006663c3ab2f2aa49b6ffdc">LCC_CreatePIDControlChannel</a>(ControlLoopIn, Pump, <a class="code" href="group__lcctrl__api.html#gga2c3672f96b121e0fbf119bf6c8a0933fa8f523c651c93261d7b1b38ea3e66d613">PUMP_FLOW</a>, &amp;ControlChannel);</div>
</div><!-- fragment --><p> If you have created a channel, you need to call <a class="el" href="group__lcctrl__chan__access.html#ga2ae72dbcef8bbfb8a98d3d63028094c3" title="Set the PID parameters of a certain control channel. ">LCC_SetPIDParameter()</a> to configure the PID parameters of the channel. If you have configured the PID parameters properly, you can enable the control loop via <a class="el" href="group__lcctrl__chan__access.html#gaa24b9a6bf89025d93d5ad69dafa027cc" title="Enables / disables a control loop. ">LCC_EnableControlLoop()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">AnalogInput</td><td>The control loop input - channel handle of an analog input device. </td></tr>
    <tr><td class="paramname">Output</td><td>The control loop output - you can pass in an analog out channel a digital out channel or a pump device. </td></tr>
    <tr><td class="paramname">LoopOutType</td><td>Provide the type of the loop output that should get created by this function. The type need to match the type passed in in Output parameter. The following types are supported:<ul>
<li>ANALOG A simple analog output - e.g. for controlling a heater</li>
<li>DIGITAL A simple digital switch - e.g. for switching a heater</li>
<li>DIGITAL_PWM A loop output that uses a digital output channel to create a PWM - e.g. for PWM control of a peltier element</li>
<li>PUMP_FLOW A loop output that controls the flow rate of a pump (see LoopOutType for all output type identifiers) </li>
</ul>
</td></tr>
    <tr><td class="paramname">pCreatedChannel</td><td>Returns the handle to controller channel handle if the channel was successfully created. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__lcctrl__api.html#ga2c3672f96b121e0fbf119bf6c8a0933f" title="Control loop output type This enumeration defines the output types for dynamic control channels...">LoopOutType</a> for an enumeration of all loop output types </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Error code - ERR_NOERR indicates success </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="capi_dynamic_controller_test_8cpp-example.html#a3">capi_dynamic_controller_test.cpp</a>, and <a class="el" href="capi_pressure_control_test_8cpp-example.html#a3">capi_pressure_control_test.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga3fb0f8990577f6f3b0fe758542f2df82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LCC_Func long LCC_CALL LCC_GetChannelHandle </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>Index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> *&#160;</td>
          <td class="paramname"><em>pChanHdl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get controller channel handle by its index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Index</td><td>Index into list of available controller channels. The index must be in the range of 0 - (<a class="el" href="group__lcctrl__chan__init.html#ga94877e4384bc2564326f6c4d8c2c2120" title="Query number of available controller channels. ">LCC_GetNoOfControlChannels()</a> - 1) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pChanHdl</td><td>Returns handle to control channel or 0 if the given index is out of range </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-ERR_PARAM_RANGE</td><td>If the given device index is out of range </td></tr>
    <tr><td class="paramname">ERR_NOERR</td><td>indicates success </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="capi_qmixqplus_test_8cpp-example.html#a3">capi_qmixqplus_test.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga94877e4384bc2564326f6c4d8c2c2120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LCC_Func long LCC_CALL LCC_GetNoOfControlChannels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query number of available controller channels. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=</td><td>0 Number of available control channels </td></tr>
    <tr><td class="paramname">&lt;</td><td>0 Error code </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="capi_qmixqplus_test_8cpp-example.html#a2">capi_qmixqplus_test.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga33a5b029fee347e2a25a92afca21dc62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LCC_Func long LCC_CALL LCC_LookupChanByName </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pChannelName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__lcb__api.html#gad29975e68b6236dc4171ddbf61ae1ee5">dev_hdl</a> *&#160;</td>
          <td class="paramname"><em>pChanHdl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup for a controller channel by its name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pChannelName</td><td>The name to assign with this channel </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pChanHdl</td><td>Handle to controller channel handle if the channel was sucessfully opened </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-ERR_NODEV</td><td>No device with the given name found </td></tr>
    <tr><td class="paramname">ERR_NOERR</td><td>indicates success </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code - ERR_NOERR indicates success </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="capi_qmixqplus_test_8cpp-example.html#a1">capi_qmixqplus_test.cpp</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 23 2021 07:50:35 for CETONI SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
