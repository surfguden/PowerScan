<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CETONI SDK: Devices</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HeaderLogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CETONI SDK
   &#160;<span id="projectnumber">20210607</span>
   </div>
   <div id="projectbrief">The software libraries for integration of all CETONI devices.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Table&#160;of&#160;contents</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('MotionControl_Devices.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Devices </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="section_rotAXYS"></a>
rotAXYS Compact Positioning System</h1>
<h2><a class="anchor" id="section_rotaxys_introduction"></a>
Introduction</h2>
<p>The rotAXYS compact positioning system consists of three single idependent axes:</p><ul>
<li>rotation axis - rotates the pivot arm</li>
<li>radius axis - moves the jib along the pivot arm</li>
<li>lift axis - moves the pivot arm up and down</li>
</ul>
<p>You can use the single axis control functions like <a class="el" href="group__lca__motion.html#gac9c376883edc0919703d53ba75299fc2" title="Move axis to a certain absolute position with a certain velocity. ">LCA_MoveToPos()</a> to control movement of each single axis independently. For the rotation axis the angle is given in <a class="el" href="group__lca__posunit.html#ga090430b65ca8e2355a86e3883133638a">RADIAN</a> and for the radius axis the radius position is given in <a class="el" href="group__lcp__prefix.html#gadeb4b9151c69e22165f63162cc43e459">MILLI</a> <a class="el" href="group__lca__posunit.html#gaa2d1ce652c65764c67dcca938d0aca3e">METERS</a>.</p>
<div class="image">
<img src="rotaxys_sketch.png" alt="rotaxys_sketch.png"/>
</div>
<h2><a class="anchor" id="section_coordinatesystem"></a>
Coordinate system</h2>
<p>Because the rotAXYS axis system has a rotation axis, some translations needs to take place to convert between polar and Cartesian coordinates. If you work with the single axis devices of the rotAXYS system, you need to do these translations for yourself. If you work with the multi axis interface (<a class="el" href="group__lca__motion.html#ga19e20cf3ba9f81bfbc28f8783c11eabf" title="Moves XY positioning system to a certain XY position if coordinate space. ">LCA_MoveToPosXY()</a>), then the axis system handles all the translation stuff internally. You can use the following calculations to translate from polar into Cartesian coordinates and vice versa: </p><div class="image">
<img src="rotaxys_coordinate_system.png" alt="rotaxys_coordinate_system.png"/>
</div>
<ul>
<li><b>d</b> - current distance of the jib to the pivot arm (radius)</li>
<li><b>alpha</b> - current angle of the pivot arm to the X-axis (azimuth)</li>
<li><b>dx</b> - jib length (more precisely, the capillary distance from the central axis of the pivot arm). You will find the length of the jib in the rotAXYS <a class="el" href="ConfigFiles.html">device configuration file</a> in the tag <b>&lt;JibLength&gt;</b> of the axis system device. The default value for a standard rotAXYS device is -18. <div class="fragment"><div class="line">...</div>
<div class="line">&lt;Device Name=<span class="stringliteral">&quot;rotAXYS1&quot;</span>&gt;</div>
<div class="line">    &lt;Type&gt;Lcl::CRotaxys&lt;/Type&gt;</div>
<div class="line">    &lt;LiftAxis&gt;rotAXYS1_Lift&lt;/LiftAxis&gt;</div>
<div class="line">    &lt;RotationAxis&gt;rotAXYS1_Rotation&lt;/RotationAxis&gt;</div>
<div class="line">    &lt;RadiusAxis&gt;rotAXYS1_Radius&lt;/RadiusAxis&gt;</div>
<div class="line">    &lt;JibLength&gt;-18&lt;/JibLength&gt;</div>
<div class="line">&lt;/Device&gt;</div>
<div class="line">...</div>
</div><!-- fragment --></li>
<li><b>(x,y)</b> - denotes the actual position that is to be approached through the capillary</li>
</ul>
<h2><a class="anchor" id="section_polar_to_cartesian"></a>
Polar to Cartesian (x,y) coordinates</h2>
<p>The following calculation shows how to translate polar coordinates into Cartesian (x,y) position. </p><div class="image">
<img src="rotaxys_polar_to_cartesian.png" alt="rotaxys_polar_to_cartesian.png"/>
</div>
<h2><a class="anchor" id="section_cartesian_to_polar"></a>
Cartesian (x,y) to polar coordinates</h2>
<p>The following calculation shows how to translate Cartesian (x,y) position into polar coordinates. </p><div class="image">
<img src="rotaxys_cartesian_to_polar.png" alt="rotaxys_cartesian_to_polar.png"/>
</div>
<h2><a class="anchor" id="section_rotaxys_properties"></a>
rotAXYS Device Properties</h2>
<p>The common labbCAN bus functions <a class="el" href="group__lcb__device.html#gaf2bd6cc6185a4e1cea173bc576300e70" title="Function for reading a device specific property. ">LCB_GetDeviceProperty()</a> and <a class="el" href="group__lcb__device.html#ga7c78fb828f13b078ceb4af5ac689003b" title="Function for setting a device specific property. ">LCB_SetDeviceProperty()</a> enable reading and writing of device specific properties. The rotAXYS device supports the following device properties:</p><ul>
<li><a class="el" href="group__lca__api.html#ggacfb84baecf85f4ba070bdc0a59278f16a9abc8d64e277509a47143c0afd739708">RotaxysPropertySafeRotation</a></li>
<li><a class="el" href="group__lca__api.html#ggacfb84baecf85f4ba070bdc0a59278f16aaa5a8aefc8ec8e77be6fa917805188fc">RotaxysPropertyUpperLimitSensorState</a></li>
</ul>
<p>With these two properties it is possible to improve the safety for the XY movements. If the safe rotation property is enabled, then XY movements are blocked, if the upper limit sensor is not active - that means if the lift axis is not in its topmost position. If the lift axis loses steps for some reason, then this function ensures, that a tool that is mounted on the arm will not crash. The following line enables safe rotation:</p>
<div class="fragment"><div class="line">Result = <a class="code" href="group__lcb__device.html#ga7c78fb828f13b078ceb4af5ac689003b">LCB_SetDeviceProperty</a>(RotaxysDeviceHandle, <a class="code" href="group__lca__api.html#ggacfb84baecf85f4ba070bdc0a59278f16a9abc8d64e277509a47143c0afd739708">RotaxysPropertySafeRotation</a>, 1);</div>
</div><!-- fragment --><p>Another option is, to read the state of the upper limit sensor with the <code>RotaxysPropertyUpperLimitSensorState</code> parameter and to check, if the sensor is on before an XY movement is started.</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> SensorState;</div>
<div class="line">Result = <a class="code" href="group__lcb__device.html#gaf2bd6cc6185a4e1cea173bc576300e70">LCB_GetDeviceProperty</a>(RotaxysDeviceHandle, <a class="code" href="group__lca__api.html#ggacfb84baecf85f4ba070bdc0a59278f16aaa5a8aefc8ec8e77be6fa917805188fc">RotaxysPropertyUpperLimitSensorState</a>, &amp;SensorState);</div>
<div class="line"><span class="keywordflow">if</span> (1 == SensorState)</div>
<div class="line">{</div>
<div class="line">    Result = <a class="code" href="group__lca__motion.html#ga19e20cf3ba9f81bfbc28f8783c11eabf">LCA_MoveToPosXY</a>(RotaxysDeviceHandle, 49, -121, 1, 0);</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="Page_Libraries.html">Libraries</a></li><li class="navelem"><a class="el" href="MotionControl.html">Motion Control Library</a></li>
    <li class="footer">Generated on Wed Jun 23 2021 07:50:34 for CETONI SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
